{"ast":null,"code":"import axios from \"axios\";\nimport { createReducer, createAsyncThunk } from \"@reduxjs/toolkit\"; //---------FAVORITES---------\n\nexport const getFavorites = createAsyncThunk(\"GET_FAVORITES\", () => {\n  // console.log(\"MOVIE NAME: \",movieName.target.value)\n  return axios.get(\"/api/favorites\").then(res => res.data); //get: api/movies\n}); //   export const addToFavorites = createAsyncThunk(\n//     \"ADD_TO_FAVORITES\",\n//     (movieId, thunkAPI) => {\n//       const { user } = thunkAPI.getState();\n//       // console.log(\"USER: \",user)\n//       if (!user.data.id) throw new Error(\"You need to be logged in\")\n//       return axios\n//         .post(`/api/favorites`,{\n//           userId: user.data.id,\n//           movieId: movieId\n//         })\n//         .then((res) => res.data)\n//     }\n//   )\n//   export const removeFromFavorites = createAsyncThunk(\n//     \"REMOVE_FROM_FAVORITES\",\n//     (movieId, thunkAPI) => {\n//       const { user } = thunkAPI.getState();\n//       if (!user.data.id) throw new Error(\"You need to be logged in\")\n//       return axios\n//         .delete(`/api/favorites?userId=${user.data.id}&movieId=${movieId}`)\n//         .then((res) => res.data)\n//     }\n//   )\n\nconst favoritesReducer = createReducer([], {\n  [getFavorites.fulfilled]: (state, action) => action.payload,\n  [addToFavorites.fulfilled]: (state, action) => action.payload,\n  [removeFromFavorites.fulfilled]: (state, action) => action.payload\n});\nexport default favoritesReducer;","map":{"version":3,"sources":["/Users/guillermosotelo/Documents/P5/BC/26-checkpoint-OMDB/src/store/favorites.js"],"names":["axios","createReducer","createAsyncThunk","getFavorites","get","then","res","data","favoritesReducer","fulfilled","state","action","payload","addToFavorites","removeFromFavorites"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,aAAT,EAAwBC,gBAAxB,QAAgD,kBAAhD,C,CAGA;;AAEA,OAAO,MAAMC,YAAY,GAAGD,gBAAgB,CAAC,eAAD,EAAkB,MAAM;AAChE;AACA,SAAOF,KAAK,CAACI,GAAN,CAAU,gBAAV,EAA4BC,IAA5B,CAAkCC,GAAD,IAASA,GAAG,CAACC,IAA9C,CAAP,CAFgE,CAGhE;AACD,CAJyC,CAArC,C,CAMP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAGA,MAAMC,gBAAgB,GAAGP,aAAa,CAAC,EAAD,EAAK;AACvC,GAACE,YAAY,CAACM,SAAd,GAA0B,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC,OADb;AAEvC,GAACC,cAAc,CAACJ,SAAhB,GAA4B,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC,OAFf;AAGvC,GAACE,mBAAmB,CAACL,SAArB,GAAiC,CAACC,KAAD,EAAQC,MAAR,KAAmBA,MAAM,CAACC;AAHpB,CAAL,CAAtC;AAMA,eAAeJ,gBAAf","sourcesContent":["import axios from \"axios\"\nimport { createReducer, createAsyncThunk } from \"@reduxjs/toolkit\"\n\n\n//---------FAVORITES---------\n\nexport const getFavorites = createAsyncThunk(\"GET_FAVORITES\", () => {\n    // console.log(\"MOVIE NAME: \",movieName.target.value)\n    return axios.get(\"/api/favorites\").then((res) => res.data)\n    //get: api/movies\n  })\n  \n//   export const addToFavorites = createAsyncThunk(\n//     \"ADD_TO_FAVORITES\",\n//     (movieId, thunkAPI) => {\n//       const { user } = thunkAPI.getState();\n//       // console.log(\"USER: \",user)\n//       if (!user.data.id) throw new Error(\"You need to be logged in\")\n//       return axios\n//         .post(`/api/favorites`,{\n//           userId: user.data.id,\n//           movieId: movieId\n//         })\n//         .then((res) => res.data)\n//     }\n//   )\n  \n//   export const removeFromFavorites = createAsyncThunk(\n//     \"REMOVE_FROM_FAVORITES\",\n//     (movieId, thunkAPI) => {\n//       const { user } = thunkAPI.getState();\n//       if (!user.data.id) throw new Error(\"You need to be logged in\")\n//       return axios\n//         .delete(`/api/favorites?userId=${user.data.id}&movieId=${movieId}`)\n//         .then((res) => res.data)\n//     }\n//   )\n  \n\nconst favoritesReducer = createReducer([], {\n    [getFavorites.fulfilled]: (state, action) => action.payload,\n    [addToFavorites.fulfilled]: (state, action) => action.payload,\n    [removeFromFavorites.fulfilled]: (state, action) => action.payload,\n})\n\nexport default favoritesReducer;"]},"metadata":{},"sourceType":"module"}